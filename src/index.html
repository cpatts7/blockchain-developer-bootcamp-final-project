<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Be The Bookie front-end</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  <script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script language="javascript" type="text/javascript" src="js/web3.min.js"></script>
  <script language="javascript" src="js/truffle-contract.js"></script>
  <script language="javascript" type="text/javascript" src="js/app.js"></script>
  <script language="javascript" type="text/javascript" src="js/bookie.js"></script>
  <script language="javascript" type="text/javascript" src="js/pundit.js"></script>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-table/1.10.1/bootstrap-table.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bluebird@3.7.2/js/browser/bluebird.min.js"></script>

  <div class="container-lg">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home" type="button" role="tab" aria-controls="home" aria-selected="true">Home</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="bookie-tab" data-bs-toggle="tab" data-bs-target="#bookie" type="button" role="tab" aria-controls="bookie" aria-selected="false">Bookie</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="pundit-tab" data-bs-toggle="tab" data-bs-target="#pundit" type="button" role="tab" aria-controls="pundit" aria-selected="false">Pundit</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="management-tab" data-bs-toggle="tab" data-bs-target="#management" type="button" role="tab" aria-controls="management" aria-selected="false">Management</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
        
      </div>
      <div class="tab-pane fade" id="bookie" role="tabpanel" aria-labelledby="bookie-tab">
        <div class="container-md">
          <br/><br/>
          <h4>Upcoming Matches</h4>
          <table id="bookie-matches" class="table table-hover table-striped">
            <thead>
              <tr>
                <th scope="col" data-field="id">Match Id</th>
                <th scope="col" data-field="player1">Player 1</th>
                <th scope="col" data-field="player2">Player 2</th>
              </tr>
            </thead>
          </table>
          <br/>
          <button class="btn btn-outline-primary btn-sm" type="button" data-bs-toggle="modal" data-bs-target="#bookieAddLiquidityModal">Add Position</button><br/><br/>

          <br/><br/>
          <h4>Open Positions</h4>
          <table id="bookie-liquidity" class="table table-hover table-striped">
            <thead>
              <tr>
                <th scope="col" data-field="id">Id</th>
                <th scope="col" data-field="matchId">Match Id</th>
                <th scope="col" data-field="playerName">Player (To Win)</th>
                <th scope="col" data-field="odds">Odds</th>
                <th scope="col" data-field="remainingLiquidity">Remaining Balance (ETH)</th>
                <th scope="col" data-field="id">Adjust Odds</th>
                <th scope="col" data-field="id">Cancel Position</th>
              </tr>
            </thead>
          </table>

          <br/><br/>
          <h4>Live Bets against Positions</h4>
          <table id="bookie-bets" class="table table-hover table-striped">
            <thead>
              <tr>
                <th scope="col" data-field="id">Position Id</th>
                <th scope="col" data-field="punditCollateral">Pundit Stake (ETH)</th>
                <th scope="col" data-field="bookieCollateral">Bookie Risk (ETH)</th>
                <th scope="col" data-field="createdTime">Bet Time</th>
              </tr>
            </thead>
          </table>

        </div>
        
      </div>
      <div class="tab-pane fade" id="pundit" role="tabpanel" aria-labelledby="pundit-tab">
        <br/>
        <h4>Select Match</h4>
        <div class="container-sm">
          <div class="row">
            <div class="col">
              <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="bk_pundit_match" onchange="PunditApp.changeMatch()">
                <option selected value="1">Federer vs Nadal</option>
                <option value="2">Djokovic vs Medvedev</option>
              </select>
            </div>
          </div>
        </div>

        <br/><br/>
          <h4>Available Bets</h4>
          <table id="pundit-liquidity" class="table table-hover table-striped">
            <thead>
              <tr>
                <th scope="col" data-field="id">Position Id</th>
                <th scope="col" data-field="playerName">Player (To Win)</th>
                <th scope="col" data-field="odds">Odds</th>
                <th scope="col" data-field="maxBet">Max Bet (ETH)</th>
                <th scope="col" data-field="maxPayout">Total Return (ETH)</th>
                <th scope="col" data-field="id">Place Bet</th>
              </tr>
            </thead>
          </table>

          <br/><br/>
          <h4>My Bets</h4>
          <table id="pundit-mybets" class="table table-hover table-striped">
            <thead>
              <tr>            
                <th scope="col" data-field="id">Position Id</th>
                <th scope="col" data-field="punditCollateral">Pundit Stake (ETH)</th>
                <th scope="col" data-field="bookieCollateral">Bookie Risk (ETH)</th>
                <th scope="col" data-field="createdTime">Bet Time</th>
              </tr>
            </thead>
          </table>

      </div>
      <div class="tab-pane fade" id="management" role="tabpanel" aria-labelledby="management-tab">
        <button class="btn btn-primary btn-result" type="button">Set Result</button><br/><br/>  
        <button class="btn btn-primary btn-refund" type="button">Refund Liquidity</button><br/><br/>
      </div>
    </div>
  </div>
  

  <div class="modal fade" id="bookieAddLiquidityModal" tabindex="-1" aria-labelledby="Add Position" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Add Position</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="bk_lq_modal">
            <div class="container">
              <div class="row" style="padding:3px">
                <div class="col">
                  Match:
                </div>
                <div class="col">
                  <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="bk_lq_match">
                    <option selected value="1">Federer vs Nadal</option>
                    <option value="2">Djokovic vs Medvedev</option>
                  </select>
                </div>
              </div>
              <div class="row" style="padding:3px">
                <div class="col">
                  Winning Player:
                </div>
                <div class="col">
                  <select class="form-select form-select-sm" aria-label=".form-select-sm example" id="bk_lq_player">
                    <option selected value="1">Federer</option>
                    <option value="2">Nadal</option>
                  </select>
                </div>
              </div>
              <div class="row" style="padding:3px">
                <div class="col">
                  Odds (1.01 to 10.00):
                </div>
                <div class="col">
                  <input type="text" class="form-control form-control-sm" placeholder="Odds" aria-label="Odds" id="bk_lq_odds">
                </div>
              </div>
              <div class="row" style="padding:3px">
                <div class="col">
                  Amount (ETH):
                </div>
                <div class="col">
                  <input type="text" class="form-control form-control-sm" placeholder="ETH" aria-label="ETH" id="bk_lq_quantity">
                </div>
              </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="bk_modal_cancel">Cancel</button>
          <button type="button" class="btn btn-primary btn-liquid" data-bs-dismiss="modal">Confirm</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="bookieEditOddsModal" tabindex="-1" aria-labelledby="Edit Odds" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Edit Odds</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="bk_lq_modal">
            <div class="container">
              <div class="row" style="padding:3px">
                <div class="col">
                  Odds (1.01 to 10.00):
                  <input type="hidden" class="form-control form-control-sm" id="bk_lq_edit_id" value="0">
                </div>
                <div class="col">
                  <input type="text" class="form-control form-control-sm" placeholder="Odds" aria-label="Odds" id="bk_lq_edit_odds">
                </div>
              </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="bk_modal_cancel">Cancel</button>
          <button type="button" class="btn btn-primary btn-edit-odds" data-bs-dismiss="modal">Confirm</button>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade" id="punditPlaceBetModal" tabindex="-1" aria-labelledby="Place Bet" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="exampleModalLabel">Place Bet</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="bk_pundit_bet_modal">
            <div class="container">
              <div class="row" style="padding:3px">
                <div class="col">
                  Bet Amount (ETH):
                </div>
                <div class="col">
                  <input type="text" class="form-control form-control-sm" placeholder="Bet Amount" aria-label="Bet Amount" id="bk_pundit_bet_amount">
                </div>
              </div>
            </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" id="bk_modal_cancel">Cancel</button>
          <button type="button" class="btn btn-primary btn-place-bet" data-bs-dismiss="modal">Confirm</button>
        </div>
      </div>
    </div>
  </div>

</body>

</html>